#pragma once
#include "Job.h"

///////////////////////////////////////////////////////////////////////////////
/// \brief Process a block of data
///////////////////////////////////////////////////////////////////////////////
class SampleJob : public Job
{
public:
	///////////////////////////////////////////////////////////////////////////////
	/// \brief Constructor
	///
	/// \param offsetX Block X offset
	/// \param offsetY Block Y offset
	/// \param sizeX block X length
	/// \param sizeY block Y length
	/// \param scene Pointer to the scene
	/// \param camera Pointer to the camera
	/// \param sampler Pointer to the main scene sampler
	///////////////////////////////////////////////////////////////////////////////
	SampleJob(int offsetX, 
			  int offsetY, 
			  int sizeX, 
			  int sizeY, 
			  Scene* scene, 
			  Camera::ptr camera, 
			  std::shared_ptr<Sampler> sampler);

	///////////////////////////////////////////////////////////////////////////////
	/// \brief Destructor
	///////////////////////////////////////////////////////////////////////////////
	~SampleJob(void);

	///////////////////////////////////////////////////////////////////////////////
	/// \brief main job function
	///////////////////////////////////////////////////////////////////////////////
	void run() override;
};



